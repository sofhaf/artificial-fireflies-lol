<script>
  // Three fireflies are trapped in the plane of your
  // computer screen. They fly towards their moon...
  // or at least what looks to be their moon...
  // during what seems to be nightime...
  //
  // Are we fake? or are we real?
  // If you see us, then we can see you...
  // We all follow the light at some point.
  //
  // How will you move on? 
  // Are you really only my user?
  // https://onlinelibrary.wiley.com/doi/full/10.1002/ece3.4557
  //
  // 																			March 2023

  const bgColor = '#0C0402'
  const moonURL = 'moon.png' //from Aysha//
  const glowURL = 'glow.png'
  const mx = innerWidth / 2
  const my = 277
  let rosie, gwen, lara
  let r = Math.random() * 666
  let g = Math.random() * 333
  let l = Math.random() * 111
  let x, y, a, b, c, d
  let angle = 0
  //this was super helpful: https://stackoverflow.com/questions/17765841/draw-moving-circles//

  function createFire(x, y) {
    const fly = document.createElement('img')
    fly.src = glowURL + '#' + Math.random()
    fly.style.position = 'absolute'
    fly.style.width = 66
    fly.style.left = x + 'px'
    fly.style.top = y + 'px'
    return fly
  }

  function setup() {
    document.body.style.backgroundColor = bgColor
    const moon = document.createElement('img')
    moon.src = moonURL
    document.body.appendChild(moon)
    moon.style.width = 777
    moon.style.position = 'absolute'
    moon.style.left = innerWidth / 2 - 388.5
    moon.style.top = 111

    //From here, there's repetition but idk how to "fix" it...
    rosie = createFire (x, y)
    document.body.appendChild(rosie)
    gwen = createFire(a, b)
    document.body.appendChild(gwen)
    lara = createFire(c, d)
    document.body.appendChild(lara)
    
  }

  function draw() {
    requestAnimationFrame(draw)
    
    x = mx + r * Math.cos(angle * Math.PI / 180);
    y = my + r * Math.sin(angle * Math.PI / 180);
    rosie.style.left = x + 'px'
    rosie.style.top = y + 'px'
    a = mx + g * Math.cos(angle * Math.PI / 180);
    b = my + g * Math.sin(angle * Math.PI / 180);
    gwen.style.left = a + 'px'
    gwen.style.top = b + 'px'
    c = mx + l * Math.cos(angle * Math.PI / 180);
    d = my + l * Math.sin(angle * Math.PI / 180);
    lara.style.left = c + 'px'
    lara.style.top = d + 'px'
   
    angle++
    if (angle > 360) {
      angle = 0 }
  }
  
  window.addEventListener('load', setup)
  window.addEventListener('load', draw)
</script>